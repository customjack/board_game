{
  "$schema": "https://boardgame.example.com/schemas/game-v3.json",
  "version": "3.0.0",
  "type": "game",

  "metadata": {
    "name": "Multi-Piece Race Game",
    "author": "Jack Carlton",
    "description": "Example game demonstrating multi-piece engine (Sorry/Parcheesi style)",
    "created": "2025-01-13T00:00:00Z",
    "modified": "2025-01-13T00:00:00Z",
    "tags": ["multi-piece", "race", "capture", "example", "v3"],
    "thumbnail": null
  },

  "requirements": {
    "plugins": [
      {
        "id": "core",
        "version": "^1.0.0",
        "source": "builtin",
        "description": "Core game functionality"
      },
      {
        "id": "multi-piece-mechanics",
        "version": "^1.0.0",
        "source": "builtin",
        "description": "Multi-piece game mechanics (piece selection, capture, etc.)"
      }
    ],
    "minPlayers": 2,
    "maxPlayers": 4
  },

  "engine": {
    "type": "multi-piece",
    "config": {
      "piecesPerPlayer": 4,
      "allowCapture": true,
      "safeSpaces": ["1", "5", "9"],
      "turnTimer": true,
      "autoRoll": false
    }
  },

  "ui": {
    "layout": "multi-piece-board",
    "components": [
      {
        "id": "pieceSelector",
        "enabled": true,
        "position": {
          "left": 20,
          "bottom": 20
        },
        "config": {
          "maxPieces": 4,
          "showPieceColors": true,
          "highlightMovable": true
        }
      },
      {
        "id": "rollButton",
        "enabled": true,
        "position": {
          "bottom": 20,
          "centerX": true
        },
        "config": {
          "animation": "dice-roll",
          "label": "Roll Dice",
          "hotkey": "space"
        }
      },
      {
        "id": "timer",
        "enabled": true,
        "position": {
          "top": 20,
          "right": 20
        },
        "config": {
          "animation": "timer",
          "showProgress": true
        }
      },
      {
        "id": "boardInteraction",
        "enabled": true,
        "position": {
          "centerX": true,
          "centerY": true
        },
        "config": {
          "showMultiplePieces": true,
          "highlightMovablePieces": true,
          "captureAnimation": "bounce"
        }
      },
      {
        "id": "gameLog",
        "enabled": true,
        "position": {
          "bottom": 80,
          "right": 20
        },
        "config": {
          "maxEntries": 50,
          "showTimestamps": false
        }
      },
      {
        "id": "playerList",
        "enabled": true,
        "position": {
          "top": 100,
          "left": 20
        },
        "config": {
          "showPieceCount": true,
          "showStats": true
        }
      }
    ],
    "theme": {
      "primaryColor": "#E91E63",
      "secondaryColor": "#9C27B0",
      "backgroundColor": "#FAFAFA",
      "textColor": "#333333",
      "boardStyle": "classic"
    }
  },

  "rules": {
    "startingPositions": {
      "mode": "multiple",
      "startZones": {
        "player1": ["start1a", "start1b", "start1c", "start1d"],
        "player2": ["start2a", "start2b", "start2c", "start2d"],
        "player3": ["start3a", "start3b", "start3c", "start3d"],
        "player4": ["start4a", "start4b", "start4c", "start4d"]
      }
    },
    "winCondition": {
      "type": "all-pieces-home",
      "config": {
        "homeZones": {
          "player1": ["home1a", "home1b", "home1c", "home1d"],
          "player2": ["home2a", "home2b", "home2c", "home2d"],
          "player3": ["home3a", "home3b", "home3c", "home3d"],
          "player4": ["home4a", "home4b", "home4c", "home4d"]
        }
      }
    },
    "turnOrder": "sequential",
    "diceRolling": {
      "enabled": true,
      "diceCount": 1,
      "diceSides": 6,
      "rollAgainOn": [6]
    },
    "capture": {
      "enabled": true,
      "safeSpaces": ["1", "5", "9", "13", "17"],
      "captureAction": "sendToStart"
    }
  },

  "board": {
    "topology": {
      "spaces": [
        {
          "id": "1",
          "name": "Start",
          "type": "start",
          "position": { "x": 100, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#4CAF50",
            "textColor": "#FFFFFF",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "2", "draw": true }
          ],
          "properties": {
            "isSafe": true,
            "maxPieces": 99
          },
          "triggers": []
        },
        {
          "id": "2",
          "name": "Space 2",
          "type": "normal",
          "position": { "x": 200, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#FFF9C4",
            "textColor": "#000000",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "3", "draw": true }
          ],
          "properties": {
            "isSafe": false,
            "maxPieces": 99
          },
          "triggers": []
        },
        {
          "id": "3",
          "name": "Space 3",
          "type": "normal",
          "position": { "x": 300, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#FFF9C4",
            "textColor": "#000000",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "4", "draw": true }
          ],
          "properties": {
            "isSafe": false,
            "maxPieces": 99
          },
          "triggers": []
        },
        {
          "id": "4",
          "name": "Space 4",
          "type": "normal",
          "position": { "x": 400, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#FFF9C4",
            "textColor": "#000000",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "5", "draw": true }
          ],
          "properties": {
            "isSafe": false,
            "maxPieces": 99
          },
          "triggers": []
        },
        {
          "id": "5",
          "name": "Safe Zone",
          "type": "safe",
          "position": { "x": 500, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#81C784",
            "textColor": "#000000",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "6", "draw": true }
          ],
          "properties": {
            "isSafe": true,
            "maxPieces": 99
          },
          "triggers": [
            {
              "when": {
                "type": "ON_ENTER"
              },
              "action": {
                "type": "PROMPT_ALL_PLAYERS",
                "payload": {
                  "message": "{{CURRENT_PLAYER_NAME}} reached a safe zone!"
                }
              },
              "priority": "MID"
            }
          ]
        },
        {
          "id": "6",
          "name": "Space 6",
          "type": "normal",
          "position": { "x": 600, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#FFF9C4",
            "textColor": "#000000",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "circle"
          },
          "connections": [
            { "targetId": "7", "draw": true }
          ],
          "properties": {
            "isSafe": false,
            "maxPieces": 99
          },
          "triggers": []
        },
        {
          "id": "7",
          "name": "Home",
          "type": "home",
          "position": { "x": 700, "y": 400 },
          "visual": {
            "size": 60,
            "color": "#FF6F00",
            "textColor": "#FFFFFF",
            "font": "12px Arial",
            "textAlign": "center",
            "textBaseline": "middle",
            "shape": "star"
          },
          "connections": [],
          "properties": {
            "isSafe": true,
            "isHome": true,
            "maxPieces": 4
          },
          "triggers": [
            {
              "when": {
                "type": "ON_LAND"
              },
              "action": {
                "type": "PROMPT_CURRENT_PLAYER",
                "payload": {
                  "message": "One of your pieces made it home!"
                }
              },
              "priority": "MID"
            }
          ]
        }
      ]
    },
    "rendering": {
      "canvasSize": {
        "width": 900,
        "height": 700
      },
      "backgroundColor": "#FAFAFA",
      "defaultSpaceSize": 60,
      "connectionColor": "#000000",
      "connectionThickness": 2,
      "arrowColor": "#000000",
      "arrowSize": 10,
      "pieceVisualization": {
        "showPlayerColors": true,
        "pieceSize": 20,
        "stackOffset": 5,
        "captureAnimation": true
      }
    }
  }
}
